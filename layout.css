/* Layout Layer - Lists, tables, and structural elements */
@layer layout {
  body {
    /* ========== */
    /* LISTS */
    ol {
      list-style-type: decimal-leading-zero;
      /* font-size: 0.75rem;
      font-family: monospace; */

      li::marker {
        font-size: 0.75rem;
        font-family: monospace;
      }
    }

    /* Reset counter on the first item of each list */
    .HyperMD-list-line-1:first-child,
    .HyperMD-list-line-1:not(.HyperMD-list-line-1 + .HyperMD-list-line-1) {
      counter-reset: list-counter;
    }

    /* Increment counter on all list items */
    .HyperMD-list-line-1 {
      counter-increment: list-counter;
      text-indent: -30px !important;
      padding-inline-start: 30px !important;
    }

    /* Hide the original number */
    .list-number {
      visibility: hidden;
      position: relative;
      width: 18.39px !important;
      display: inline-block;
      bottom: -0.3125rem;
    }

    /* Show the formatted number with leading zero */
    .list-number::before {
      content: counter(list-counter, decimal-leading-zero) ". ";
      visibility: visible;
      position: absolute;
      left: 0;
      top: 0;
    }

    /* Show the formatted number with leading zero */
    .list-number::before {
      content: counter(list-counter, decimal-leading-zero) ". ";
      width: 18.39px;
      visibility: visible;
      position: absolute;
      left: -0.5rem;
      bottom: 0;
      font-size: 0.75rem;
      font-family: monospace;
    }

    /* ========== */
    /* TABLES */
    --table-background: rgba(var(--purple-rgb), 0.1);
    --table-border-color: var(--yellow);

    .markdown-preview-view td:last-child .table-cell-wrapper,
    .markdown-preview-view th:last-child .table-cell-wrapper,
    .markdown-source-view.mod-cm6 td:last-child .table-cell-wrapper,
    .markdown-source-view.mod-cm6 th:last-child .table-cell-wrapper,
    .markdown-preview-view th:first-child .table-cell-wrapper,
    .markdown-source-view.mod-cm6 td:first-child .table-cell-wrapper,
    .markdown-source-view.mod-cm6 th:first-child .table-cell-wrapper,
    .markdown-source-view.mod-cm6 .cm-table-widget .table-cell-wrapper,
    .markdown-preview-view td:last-child,
    .markdown-preview-view th:last-child,
    .markdown-source-view.mod-cm6 td:last-child,
    .markdown-source-view.mod-cm6 th:last-child,
    .markdown-preview-view td,
    .markdown-preview-view th,
    .markdown-source-view.mod-cm6 td,
    .markdown-source-view.mod-cm6 th,
    .markdown-preview-view td:first-child,
    .markdown-preview-view th:first-child,
    .markdown-source-view.mod-cm6 td:first-child,
    .markdown-source-view.mod-cm6 th:first-child,
    .markdown-source-view.mod-cm6 .cm-table-widget th,
    .markdown-source-view.mod-cm6 .cm-table-widget td {
      padding: var(--size-4-2);
    }

    .markdown-preview-view td:first-child,
    .markdown-preview-view th:first-child,
    .markdown-source-view.mod-cm6 td:first-child,
    .markdown-source-view.mod-cm6 th:first-child {
      padding-left: var(--size-4-2);
    }

    table,
    .markdown-source-view.mod-cm6.is-readable-line-width
      .cm-contentContainer.cm-contentContainer
      > .cm-content
      table {
      border-radius: var(--size-4-2);
      overflow: hidden;
      box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
    }
  }
}
